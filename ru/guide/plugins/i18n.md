# Интернационализация {#i18n}

Интернационализация (далее **i18n** - сокращение букв internationalization)


## Использование {#usage}
Получить модуль i18n можно через `Yskra.import('i18n')`

```js
const { t } = Yskra.import('i18n').useI18n();

t('version'); // 'Версия' если язык русский или 'Version' если язык английский
```

В шаблонах:

```vue
<template>
  <h1>{{ $t('version') }}</h1>
</template>
```

## Загрузка глобально {#load-global}

Загрузить свою локализацию глобально можно через [`ctx.defineLocales`](../../reference/plugin-context#defineLocales)

```js
import ruLocale from './locales/ru-RU.json'; // отдельный файл

export default function plugin({ defineLocales }) {
  defineLocales({
    'ru-RU': ruLocale,
    'en-US': { // или объект напрямую
      version: 'Version',
    },
  });
}
```

## В компонентах {#in-components}

Так же вы можете локально использовать `<i18n/>` в SFC

Но нужно установить плагин сборки

```zsh
pnpm add -D @intlify/unplugin-vue-i18n
```

```js
// vite.config.js
import { defineConfig } from 'vite'
import vuePlugin from '@vitejs/plugin-vue';
import VueI18nPlugin from '@intlify/unplugin-vue-i18n/vite' // [!code ++]

export default defineConfig({
  /* ... */
  plugins: [
    /* ... */
    vuePlugin(),
    VueI18nPlugin(), // [!code ++]
  ],
})
```

Использование:

```vue
<!-- MyComponent.vue -->
<i18n>
{
  "en": {
    "hello": "hello world!"
  },
  "ja": {
    "hello": "こんにちは、世界！"
  }
}
</i18n>

<template>
  <h1>{{ $t('hello') }}</h1>
</template>
```

Смотрите так же [Vue I18n - Single file components](https://vue-i18n.intlify.dev/guide/advanced/sfc.html)

## Шаблон как ключ {#template-as-key}

Так же в модуле включена функция `formatFallbackMessages: true`

Это позволяет использовать шаблоны в качестве ключей в локализации

```jsonc
// locales/ru-RU.json
{
  "Hello {name}": "Привет {name}"
}
```
```jsonc
// locales/en-US.json
{
 
}
```
```html
<p>{{ $t('Hello {name}', { name: 'John' }) }}</p>
```

При выбранной локали приложения `ru-RU` будет выведено "**Привет John**", в противном случае "**Hello John**"

# Первый плагин {#first-plugin}


## Идея {#idea}

Первое, что нужно сделать при создании плагина, — это понять, что именно вы пытаетесь сделать.

Знание того, что вы хотите от плагина, также позволит вам обратиться к нашему сообществу разработчиков и попросить о помощи. Гораздо проще помочь кому-то с конкретной задачей или конечной целью, чем тому, кто «просто хочет сделать плагин».

Так же рассмотрите возможность сделать вклад в существующий плагин, если уже есть плагин с похожим функционалом.

## Простой пример {#simple-example}

Плагин представляет собой JavaScript файл, который экспортирует `default` функцию, и при монтировании получит контекст плагина.

::: tip Монтирование плагина

Монтирование - когда после загрузки модуля выполняется функция. Плагин как отдельный модуль будет загружен один раз, но монтирование может не произойти, или произойти несколько раз.
Например, если пользователь выключил и включил плагин.
:::

```js :line-numbers
/**
 * @name       MyPlugin
 * @id         dev.developer.MyPlugin
 * @version    1.0.0
 * @apiVersion 0
 * @author     developer
 * @license    UNLICENSED
 * @source     null
 */


export default function plugin(ctx) {
  console.log('Hello from plugin!')
  
  return () => {
    console.log('Bye from plugin!')
  }
}
```

---

1. Первое с чего начинается каждый плагин - это манифест плагина (строка 1-9). Все поля манифеста можно посмотреть в [Справочнике. Плагин - Манифест](../../reference/plugin-manifest.md)

2. Контекст (`ctx`) так же можно посмотреть в [Справочнике. Плагин - Контекст](../../reference/plugin-context.md) (строка 12)

3. Необязательно, плагин может вернуть функцию, которая будет вызвана при размонтировании (строка 15-17).
   - Если вы меняли что-то из через апи приложения - отмените это здесь
   - Все функции из контекста плагина имеют отменяющий эффект, который будет запущен при размонтировании

## Загрузите плагин {#load-plugin}

Для загрузки вашего плагина используйте директорию `plugins` в корне проекта

```shell
yskra # [!code focus]
├── index.html
├── node_modules
├── plugins # [!code focus]
│   └── myPlugin.js # [!code focus]
├── # ...
└── src
```

Как только вы отредактируете или создадите файл страница перезагрузится автоматически и вы можете увидеть ваш плагин на странице <ExternalLink href="http://localhost:8930/settings/plugins" />.

Если в первый раз после создания файла vite не перезапустился автоматически, перезапустите вручную - `ctrl+c` и `pnpm run dev` - после этого vite начнет следить за изменениями файла
